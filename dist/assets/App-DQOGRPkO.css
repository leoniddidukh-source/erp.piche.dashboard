.theme-toggle{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:10px;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-primary);cursor:pointer;transition:all .15s ease;padding:0}.theme-toggle:hover{background:var(--bg-hover);border-color:var(--accent-color);transform:scale(1.05)}.theme-toggle:active{transform:scale(.95)}.theme-toggle-icon{width:20px;height:20px;transition:transform .3s ease}.theme-toggle:hover .theme-toggle-icon{transform:rotate(15deg)}.app-shell{min-height:100vh;display:flex;flex-direction:column;background:radial-gradient(circle at top,var(--gradient-start),var(--gradient-end) 65%);color:var(--text-primary);transition:background .3s ease,color .3s ease}.top-bar{padding:1.5rem 2.5rem;display:flex;flex-wrap:wrap;gap:1.5rem;align-items:flex-start;border-bottom:1px solid var(--border-light)}.app-eyebrow{text-transform:uppercase;letter-spacing:.12em;font-size:.75rem;color:var(--accent-color);margin:0 0 .5rem}.top-bar h1{margin:0;font-size:2rem;color:var(--text-primary)}.app-subtitle{max-width:640px;margin:.5rem 0 0;color:var(--text-secondary)}.user-badge{margin-left:auto;display:flex;flex-direction:column;gap:.4rem;min-width:220px}.user-badge label{font-size:.85rem;color:var(--text-muted)}.user-badge input{border:1px solid var(--border-color);border-radius:8px;padding:.65rem .85rem;background:var(--bg-panel);color:var(--text-primary);transition:all .15s ease}.user-badge input:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 3px var(--accent-bg)}.content{flex:1;display:grid;grid-template-columns:230px minmax(0,1fr) 300px;gap:1.5rem;padding:1.5rem 2.5rem 2.5rem}.panel{background:var(--bg-panel);border:1px solid var(--border-color);border-radius:18px;padding:1.2rem;display:flex;flex-direction:column;gap:1rem;transition:background .3s ease,border-color .3s ease}.panel-title{margin:0;font-weight:600;letter-spacing:.03em;text-transform:uppercase;font-size:.8rem;color:var(--text-muted)}.tool-grid{display:flex;flex-direction:column;gap:.6rem}.tool-btn{border-radius:10px;padding:.65rem .8rem;border:1px solid transparent;background:var(--bg-tertiary);color:var(--text-primary);text-align:left;transition:all .15s ease}.tool-btn:hover{background:var(--bg-hover);border-color:var(--border-color)}.tool-btn.active{border-color:var(--accent-color);background:var(--accent-bg);color:var(--accent-color)}.control{display:flex;flex-direction:column;gap:.35rem}.control label{font-size:.85rem;color:var(--text-secondary)}.control input[type=range]{width:100%}.control input[type=color]{border:none;border-radius:8px;height:38px;padding:0;background:transparent}.active-tool{margin:0;font-size:1rem;font-weight:600}.danger-btn{margin-top:auto;background:#f8717126;border:1px solid rgba(248,113,113,.4);color:#fecaca;transition:all .15s ease}.danger-btn:hover{background:#f8717140;border-color:#f8717199}.ghost-btn{border-radius:999px;padding:.3rem .9rem;border:1px solid var(--border-color);background:transparent;color:var(--text-primary);font-size:.85rem;transition:all .15s ease}.ghost-btn:hover{background:var(--bg-hover);border-color:var(--accent-color)}.board-wrapper{border-radius:24px;border:1px solid var(--border-color);background:var(--bg-board-wrapper);overflow:hidden;position:relative;min-height:640px;box-shadow:inset 0 0 0 1px var(--border-subtle);transition:background .3s ease,border-color .3s ease}.board{width:100%;height:100%;cursor:crosshair;background:var(--bg-board);background-image:repeating-linear-gradient(0deg,var(--border-subtle),var(--border-subtle) 1px,transparent 1px,transparent 40px),repeating-linear-gradient(90deg,var(--border-subtle),var(--border-subtle) 1px,transparent 1px,transparent 40px);transition:background .3s ease}.board-canvas{width:100%;height:100%;display:block}.path-stroke{filter:drop-shadow(0 2px 8px var(--shadow-color))}.path-stroke.preview{stroke-dasharray:6}.board-text{font-family:Inter,SF Pro Display,system-ui,sans-serif;font-size:1.1rem;font-weight:500}.board-text-input{position:absolute;border:2px solid var(--accent-color);border-radius:6px;padding:.5rem .75rem;background:var(--bg-panel);color:var(--text-primary);font-family:Inter,SF Pro Display,system-ui,sans-serif;font-size:1.1rem;font-weight:500;min-width:200px;outline:none;box-shadow:0 4px 12px var(--shadow-color);z-index:10;transition:all .15s ease}.board-text-input:focus{box-shadow:0 4px 16px var(--shadow-color),0 0 0 3px var(--accent-bg)}.board-text-input::placeholder{color:var(--text-muted);opacity:.6}.history-panel{gap:1rem}.history-header{display:flex;align-items:center;justify-content:space-between}.history-meta{margin:.15rem 0 0;color:var(--text-muted);font-size:.85rem}.history-list{margin:0;padding:0;list-style:none;display:flex;flex-direction:column;gap:.85rem;max-height:calc(100vh - 280px);overflow-y:auto}.history-row{display:flex;justify-content:space-between;align-items:flex-start;gap:.5rem;padding:.7rem .2rem;border-bottom:1px solid var(--border-light);transition:background-color .15s ease}.history-row:hover{background-color:var(--bg-hover);border-radius:6px}.history-content{flex:1;min-width:0}.history-description{margin:0;font-weight:500;color:var(--text-primary)}.history-user{margin:.15rem 0 0;font-size:.8rem;color:var(--text-muted)}.history-actions{display:flex;align-items:center;gap:.5rem;flex-shrink:0}.history-time{font-size:.75rem;color:var(--text-muted);white-space:nowrap}.history-delete-btn{display:flex;align-items:center;justify-content:center;width:24px;height:24px;border:none;border-radius:4px;background:transparent;color:var(--text-muted);font-size:1.2rem;line-height:1;cursor:pointer;opacity:0;transition:all .15s ease;padding:0;font-weight:300}.history-row:hover .history-delete-btn{opacity:1}.history-delete-btn:hover{background:#f8717126;color:#f87171;transform:scale(1.1)}.history-delete-btn:active{transform:scale(.95)}@media(max-width:1200px){.content{grid-template-columns:minmax(0,1fr)}.panel.tool-panel,.history-panel{order:1}.board-wrapper{order:0}}@media(max-width:640px){.top-bar{padding:1.2rem}.content{padding:1rem}.user-badge{width:100%}}
