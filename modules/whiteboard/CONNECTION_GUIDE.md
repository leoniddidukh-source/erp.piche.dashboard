# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Whiteboard –º–æ–¥—É–ª—è –∫ —Ö–æ—Å—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥—É–ª–µ

- **–ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**: `whiteboardModule`
- **–ü–æ—Ä—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: `3007`
- **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**: `./App`
- **URL remoteEntry (dev)**: `http://localhost:3007/remoteEntry.js`

## –®–∞–≥–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–¥—É–ª—å whiteboard

```bash
cd modules/whiteboard
npm install  # –µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm start
```

–ú–æ–¥—É–ª—å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3007`

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å remoteEntry.js

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:3007/remoteEntry.js`

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å JavaScript –∫–æ–¥ (Module Federation –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è).

### 3. –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å –≤ Firestore

–ó–∞–π–¥–∏—Ç–µ –≤ —Ö–æ—Å—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ **Module Management**.

–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```
Name: Whiteboard
Description: Collaborative realtime whiteboard module
URL: http://localhost:3007/remoteEntry.js
Port: 3007
Icon: üé® (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —ç–º–æ–¥–∑–∏)
Active: ‚úì (–≤–∫–ª—é—á–µ–Ω–æ)
Visible in Sidebar: ‚úì (–≤–∏–¥–∏–º–æ –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏)
Stats Type: none (–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π)
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è –≤ Firestore:
1. –ú–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ —Ö–æ—Å—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–æ–¥—É–ª—å –æ–Ω –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ DynamicModuleLoader
3. Whiteboard –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è –∏ —Ä–∞–±–æ—Ç–∞—Ç—å

## –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –°–±–æ—Ä–∫–∞ –º–æ–¥—É–ª—è

```bash
cd modules/whiteboard
npm run build
```

### –®–∞–≥ 2: –î–µ–ø–ª–æ–π

–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `dist/` –Ω–∞ –≤–∞—à —Ö–æ—Å—Ç–∏–Ω–≥ (Firebase Hosting, Vercel, Netlify –∏ —Ç.–¥.).

**–í–∞–∂–Ω–æ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `remoteEntry.js` –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –ø—É–±–ª–∏—á–Ω–æ–º—É URL.

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å URL –≤ Firestore

–ò–∑–º–µ–Ω–∏—Ç–µ URL –º–æ–¥—É–ª—è –≤ Firestore –Ω–∞ production URL:

```
URL: https://your-deployment-domain.com/remoteEntry.js
```

–ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Firebase Hosting:

```
URL: https://your-site.web.app/remoteEntry.js
```

### –ü—Ä–∏–º–µ—Ä –¥–ª—è Firebase Hosting

–ï—Å–ª–∏ –¥–µ–ø–ª–æ–∏—Ç–µ –Ω–∞ Firebase Hosting —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π PUBLIC_PATH:

```bash
PUBLIC_PATH=https://your-site.web.app/ npm run build
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª—è –≤ Firestore

–î–æ–∫—É–º–µ–Ω—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `modules` –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```javascript
{
  name: "Whiteboard",
  description: "Collaborative realtime whiteboard module",
  url: "http://localhost:3007/remoteEntry.js",  // –∏–ª–∏ production URL
  port: 3007,
  icon: "üé®",
  active: true,
  visibleInSidebar: true,
  statsType: "none",
  order: 0,  // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
  createdAt: "2024-01-01T00:00:00.000Z"
}
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ú–æ–¥—É–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥—É–ª—å –∑–∞–ø—É—â–µ–Ω**: `http://localhost:3007/remoteEntry.js` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS**: –ú–æ–¥—É–ª—å —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞**: –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ –æ—Ç DynamicModuleLoader
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `whiteboardModule` (–∫–∞–∫ –≤ webpack.config.js)

### –û—à–∏–±–∫–∞ "Module not accessible"

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ dev server –º–æ–¥—É–ª—è –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –≤ Firestore –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–≤–∫–ª—é—á–∞–µ—Ç `/remoteEntry.js`)
- –î–ª—è production –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL

### –û—à–∏–±–∫–∞ –≤–µ—Ä—Å–∏–π React

- –•–æ—Å—Ç –∏ –º–æ–¥—É–ª—å –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏ React
- –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: React 18.2.0 (singleton mode)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç BroadcastChannel API –¥–ª—è real-time –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏–∏
- –ú–æ–¥—É–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ localStorage
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (React, React-DOM) shared —Å —Ö–æ—Å—Ç–æ–º –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞


